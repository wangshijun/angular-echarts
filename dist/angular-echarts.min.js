!function(){"use strict";function e(e,o,t,a){return function(o,r,l){function i(e){s=e.width||parseInt(l.width)||f||320,d=e.height||parseInt(l.height)||y||240,g.style.width=s+"px",g.style.height=d+"px"}function n(e,o,a){o=angular.extend({showXAxis:!0,showYAxis:!0,showLegend:!0},o);var r=angular.extend({orient:"top",axisLine:{show:!1}},angular.isObject(o.xAxis)?o.xAxis:{}),l=angular.extend({type:"value",orient:"right",scale:!1,axisLine:{show:!1},axisLabel:{formatter:function(e){return t.formatKMBT(e)}}},angular.isObject(o.yAxis)?o.yAxis:{}),i={title:t.getTitle(e,o,a),tooltip:t.getTooltip(e,o,a),legend:t.getLegend(e,o,a),toolbox:angular.extend({show:!1},angular.isObject(o.toolbox)?o.toolbox:{}),xAxis:t.isHeatmapChart(a)?o.xAxis:[angular.extend(r,t.getAxisTicks(e,o,a))],yAxis:t.isHeatmapChart(a)?o.yAxis:[l],graphic:o.graphic&&(angular.isObject(o.graphic)||angular.isArray(o.graphic))?o.graphic:[],series:t.getSeries(e,o,a),visualMap:o.visualMap?o.visualMap:null};return o.showXAxis||angular.forEach(i.xAxis,function(e){e.axisLine={show:!1},e.axisLabel={show:!1},e.axisTick={show:!1}}),o.showYAxis||angular.forEach(i.yAxis,function(e){e.axisLine={show:!1},e.axisLabel={show:!1},e.axisTick={show:!1}}),o.showLegend&&"gauge"!==a||delete i.legend,t.isAxisChart(a)||t.isHeatmapChart(a)||(delete i.xAxis,delete i.yAxis),o.dataZoom&&(i.dataZoom=angular.extend({show:!0,realtime:!0},o.dataZoom)),o.dataRange&&(i.dataRange=angular.extend({},o.dataRange)),o.polar&&(i.polar=o.polar),o.grid&&(i.grid=o.grid),i}function c(){if(o.data&&o.config){var t;if(i(o.config),u||(u=echarts.init(g,o.config.theme||"shine")),o.config.event&&(Array.isArray(o.config.event)||(o.config.event=[o.config.event]),Array.isArray(o.config.event)&&o.config.event.forEach(function(e){m[e.type]||(m[e.type]=!0,u.on(e.type,function(o){e.fn(o)}))})),angular.isString(o.data)){if(p)return;p=!0,u.showLoading({text:o.config.loading||"奋力加载中...",textStyle:x}),e.get(o.data).then(function(e){p=!1,u.hideLoading(),e.data.data?(t=n(e.data.data,o.config,a),o.config.forceClear&&u.clear(),t.series.length?(u.setOption(t),u.resize()):u.showLoading({text:o.config.errorMsg||"没有数据",textStyle:x})):u.showLoading({text:o.config.emptyMsg||"数据加载失败",textStyle:x})})}else t=n(o.data,o.config,a),o.config.forceClear&&u.clear(),t.series.length?(u.setOption(t),u.resize()):u.showLoading({text:o.config.errorMsg||"没有数据",textStyle:x});o.chartObj=u}}o.config=o.config||{};var s,d,u,g=r.find("div")[0],h=r.parent()[0],f=h.clientWidth,y=h.clientHeight,m={},p=!1,x={color:"red",fontSize:36,fontWeight:900,fontFamily:"Microsoft Yahei, Arial"};o.$watch(function(){return o.config},function(e){e&&c()},!0),o.$watch(function(){return o.data},function(e){e&&c()},!0)}}for(var o=angular.module("angular-echarts",["angular-echarts.theme","angular-echarts.util"]),t=["line","bar","area","pie","donut","gauge","map","radar","heatmap"],a=0,r=t.length;r>a;a++)!function(t){o.directive(t+"Chart",["$http","theme","util",function(o,a,r){return{restrict:"EA",template:'<div config="config" data="data"></div>',scope:{config:"=config",data:"=data",chartObj:"=?chartObj"},link:e(o,a,r,t)}}])}(t[a]);angular.module("angular-echarts.util",[]).factory("util",function(){function e(e){return["pie","donut"].indexOf(e)>-1}function o(e){return["map"].indexOf(e)>-1}function t(e){return["line","bar","area"].indexOf(e)>-1}function a(e){return["heatmap"].indexOf(e)>-1}function r(e,o,t){var a=[];return e[0]&&angular.forEach(e[0].datapoints,function(e){a.push(e.x)}),{type:"category",boundaryGap:"bar"===t,data:a}}function l(r,l,i){var n=[];return angular.forEach(r,function(r){var c=[];angular.forEach(r.datapoints,function(e){c.push(e.y)});var s={type:i||"line",name:r.name,data:c};"area"===i&&(s.type="line",s.itemStyle={normal:{areaStyle:{type:"default"}}}),"gauge"===i&&(s=angular.extend(s,{splitNumber:10,axisLine:{lineStyle:{color:[[.2,"#228b22"],[.8,"#48b"],[1,"#ff4500"]],width:8}},axisTick:{splitNumber:10,length:12,lineStyle:{color:"auto"}},axisLabel:{textStyle:{color:"auto"}},splitLine:{show:!0,length:30,lineStyle:{color:"auto"}},pointer:{width:5},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{fontWeight:"bolder"}},detail:{formatter:"{value}%",textStyle:{color:"auto",fontWeight:"bolder"}}},l.gauge||{})),t(i)||(s.data=[],angular.forEach(r.datapoints,function(e){s.data.push({value:e.y,name:e.x})})),e(i)&&(s.type="pie",s.center=l.center||["40%","50%"],s.radius=l.radius||"60%","donut"===i?(s.radius=l.radius||["50%","70%"],s=angular.extend(s,{itemStyle:{normal:{label:{show:!1},labelLine:{show:!1}},emphasis:{label:{show:!0,position:"center",textStyle:{fontSize:"50",fontWeight:"bold"}}}}},l.donut||{})):"pie"===i&&(s=angular.extend(s,{itemStyle:{normal:{label:{position:"inner",formatter:function(e){return(+e.percent).toFixed()+"%"}},labelLine:{show:!1}},emphasis:{label:{show:!0,formatter:"{b}\n{d}%"}}}},l.pie||{}))),o(i)&&(s.type="map",s=angular.extend(s,r,l.map||{})),l.stack&&(s.stack="total"),"radar"===i&&(s.data=r.data),a(i)&&(s.type="heatmap",s.name=r.name,s.data=r.data,s=angular.extend(s,{label:{normal:{show:!0}},itemStyle:{emphasis:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}},l.heatmap||{})),n.push(s)}),n}function i(o,t,a){var r={data:[]};return e(a)?(o[0]&&angular.forEach(o[0].datapoints,function(e){r.data.push(e.x)}),r.orient="verticle",r.x="right",r.y="center"):"map"===a?r={}:(angular.forEach(o,function(e){r.data.push(e.name)}),r.orient="horizontal"),angular.extend(r,t.legend||{})}function n(e,o,t){var a={};switch(t){case"line":case"area":a.trigger="axis";break;case"pie":case"donut":case"bar":case"map":case"gauge":a.trigger="item"}return"pie"===t&&(a.formatter="{a} <br/>{b}: {c} ({d}%)"),"map"===t&&(a.formatter="{b}"),angular.extend(a,angular.isObject(o.tooltip)?o.tooltip:{})}function c(o,t,a){return angular.isObject(t.title)?t.title:e(a)?null:{text:t.title,subtext:t.subtitle||"",x:50}}function s(e,o){return o||(o=function(e){return Math.round(100*e)/100}),e=Math.abs(e),e>=1e12?o(e/1e12)+"T":e>=1e9?o(e/1e9)+"B":e>=1e6?o(e/1e6)+"M":e>=1e3?o(e/1e3)+"K":1>e&&e>0?o(e):0===e?"":o(e)}return{isPieChart:e,isAxisChart:t,isHeatmapChart:a,getAxisTicks:r,getSeries:l,getLegend:i,getTooltip:n,getTitle:c,formatKMBT:s}}),angular.module("angular-echarts.theme",[]).factory("theme",["infographic","macarons","shine","dark","roma",function(e,o,t,a,r){var l={infographic:e,macarons:o,shine:t,dark:a,roma:r};return{get:function(e){return l[e]?l[e]:{}}}}]),angular.module("angular-echarts.theme").factory("dark",function(){var e=function(e){"undefined"!=typeof console&&console&&console.error&&console.error(e)};if(!echarts)return e("ECharts is not Loaded"),void 0;var o="#eee",t=function(){return{axisLine:{lineStyle:{color:o}},axisTick:{lineStyle:{color:o}},axisLabel:{textStyle:{color:o}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:o}}}},a=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],r={color:a,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:o},crossStyle:{color:o}}},legend:{textStyle:{color:o}},textStyle:{color:o},title:{textStyle:{color:o}},toolbox:{iconStyle:{normal:{borderColor:o}}},dataZoom:{textStyle:{color:o}},timeline:{lineStyle:{color:o},itemStyle:{normal:{color:a[1]}},label:{normal:{textStyle:{color:o}}},controlStyle:{normal:{color:o,borderColor:o}}},timeAxis:t(),logAxis:t(),valueAxis:t(),categoryAxis:t(),line:{symbol:"circle"},graph:{color:a},gauge:{title:{textStyle:{color:o}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};return r.categoryAxis.splitLine.show=!1,echarts.registerTheme("dark",r),r}),angular.module("angular-echarts.theme").factory("infographic",function(){var e=function(e){"undefined"!=typeof console&&console&&console.error&&console.error(e)};if(!echarts)return e("ECharts is not Loaded"),void 0;var o=["#C1232B","#27727B","#FCCE10","#E87C25","#B5C334","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD","#D7504B","#C6E579","#F4E001","#F0805A","#26C0C0"],t={color:o,title:{textStyle:{fontWeight:"normal",color:"#27727B"}},visualMap:{color:["#C1232B","#FCCE10"]},toolbox:{iconStyle:{normal:{borderColor:o[0]}}},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#27727B",type:"dashed"},crossStyle:{color:"#27727B"},shadowStyle:{color:"rgba(200,200,200,0.3)"}}},dataZoom:{dataBackgroundColor:"rgba(181,195,52,0.3)",fillerColor:"rgba(181,195,52,0.2)",handleColor:"#27727B"},categoryAxis:{axisLine:{lineStyle:{color:"#27727B"}},splitLine:{show:!1}},valueAxis:{axisLine:{show:!1},splitArea:{show:!1},splitLine:{lineStyle:{color:["#ccc"],type:"dashed"}}},timeline:{lineStyle:{color:"#27727B"},controlStyle:{normal:{color:"#27727B",borderColor:"#27727B"}},symbol:"emptyCircle",symbolSize:3},line:{itemStyle:{normal:{borderWidth:2,borderColor:"#fff",lineStyle:{width:3}},emphasis:{borderWidth:0}},symbol:"circle",symbolSize:3.5},candlestick:{itemStyle:{normal:{color:"#C1232B",color0:"#B5C334",lineStyle:{width:1,color:"#C1232B",color0:"#B5C334"}}}},graph:{color:o},map:{label:{normal:{textStyle:{color:"#C1232B"}},emphasis:{textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{areaColor:"#ddd",borderColor:"#eee"},emphasis:{areaColor:"#fe994e"}}},gauge:{axisLine:{lineStyle:{color:[[.2,"#B5C334"],[.8,"#27727B"],[1,"#C1232B"]]}},axisTick:{splitNumber:2,length:5,lineStyle:{color:"#fff"}},axisLabel:{textStyle:{color:"#fff"}},splitLine:{length:"5%",lineStyle:{color:"#fff"}},title:{offsetCenter:[0,-20]}}};return echarts.registerTheme("infographic",t),t}),angular.module("angular-echarts.theme").factory("macarons",function(){var e=function(e){"undefined"!=typeof console&&console&&console.error&&console.error(e)};if(!echarts)return e("ECharts is not Loaded"),void 0;var o=["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],t={color:o,title:{textStyle:{fontWeight:"normal",color:"#008acd"}},visualMap:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{iconStyle:{normal:{borderColor:o[0]}}},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},candlestick:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},map:{label:{normal:{textStyle:{color:"#d87a80"}}},itemStyle:{normal:{borderColor:"#eee",areaColor:"#ddd"},emphasis:{areaColor:"#fe994e"}}},graph:{color:o},gauge:{axisLine:{lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}}};return echarts.registerTheme("macarons",t),t}),angular.module("angular-echarts.theme").factory("roma",function(){var e=function(e){"undefined"!=typeof console&&console&&console.error&&console.error(e)};if(!echarts)return e("ECharts is not Loaded"),void 0;var o=["#E01F54","#001852","#f5e8c8","#b8d2c7","#c6b38e","#a4d8c2","#f3d999","#d3758f","#dcc392","#2e4783","#82b6e9","#ff6347","#a092f1","#0a915d","#eaf889","#6699FF","#ff6666","#3cb371","#d5b158","#38b6b6"],t={color:o,visualMap:{color:["#e01f54","#e7dbc3"],textStyle:{color:"#333"}},candlestick:{itemStyle:{normal:{color:"#e01f54",color0:"#001852",lineStyle:{width:1,color:"#f5e8c8",color0:"#b8d2c7"}}}},graph:{color:o},gauge:{axisLine:{lineStyle:{color:[[.2,"#E01F54"],[.8,"#b8d2c7"],[1,"#001852"]],width:8}}}};return echarts.registerTheme("roma",t),echarts}),angular.module("angular-echarts.theme").factory("shine",function(){var e=function(e){"undefined"!=typeof console&&console&&console.error&&console.error(e)};if(!echarts)return e("ECharts is not Loaded"),void 0;var o=["#c12e34","#e6b600","#0098d9","#2b821d","#005eaa","#339ca8","#cda819","#32a487"],t={color:o,title:{textStyle:{fontWeight:"normal"}},visualMap:{color:["#1790cf","#a2d4e6"]},toolbox:{iconStyle:{normal:{borderColor:"#06467c"}}},tooltip:{backgroundColor:"rgba(0,0,0,0.6)"},dataZoom:{dataBackgroundColor:"#dedede",fillerColor:"rgba(154,217,247,0.2)",handleColor:"#005eaa"},timeline:{lineStyle:{color:"#005eaa"},controlStyle:{normal:{color:"#005eaa",borderColor:"#005eaa"}}},candlestick:{itemStyle:{normal:{color:"#c12e34",color0:"#2b821d",lineStyle:{width:1,color:"#c12e34",color0:"#2b821d"}}}},graph:{color:o},map:{label:{normal:{textStyle:{color:"#c12e34"}},emphasis:{textStyle:{color:"#c12e34"}}},itemStyle:{normal:{borderColor:"#eee",areaColor:"#ddd"},emphasis:{areaColor:"#e6b600"}}},gauge:{axisLine:{show:!0,lineStyle:{color:[[.2,"#2b821d"],[.8,"#005eaa"],[1,"#c12e34"]],width:5}},axisTick:{splitNumber:10,length:8,lineStyle:{color:"auto"}},axisLabel:{textStyle:{color:"auto"}},splitLine:{length:12,lineStyle:{color:"auto"}},pointer:{length:"90%",width:3,color:"auto"},title:{textStyle:{color:"#333"}},detail:{textStyle:{color:"auto"}}}};return echarts.registerTheme("shine",t),t})}();