!function(){"use strict";function e(e,t,o,a){return function(r,l,n){function i(e){d=e.width||parseInt(n.width)||y||320,u=e.height||parseInt(n.height)||m||240,f.style.width=d+"px",f.style.height=u+"px"}function c(e,t,a){t=angular.extend({showXAxis:!0,showYAxis:!0,showLegend:!0},t);var r=angular.extend({orient:"top",axisLine:{show:!1}},angular.isObject(t.xAxis)?t.xAxis:{}),l=angular.extend({type:"value",orient:"right",scale:!1,axisLine:{show:!1},axisLabel:{formatter:function(e){return o.formatKMBT(e)}}},angular.isObject(t.yAxis)?t.yAxis:{});"pie"==a&&console.log(o.getSeries(e,t,a));var n={title:o.getTitle(e,t,a),tooltip:o.getTooltip(e,t,a),legend:o.getLegend(e,t,a),toolbox:angular.extend({show:!1},angular.isObject(t.toolbox)?t.toolbox:{}),xAxis:[angular.extend(r,o.getAxisTicks(e,t,a))],yAxis:[l],series:o.getSeries(e,t,a)};return t.showXAxis||angular.forEach(n.xAxis,function(e){e.axisLine={show:!1},e.axisLabel={show:!1},e.axisTick={show:!1}}),t.showYAxis||angular.forEach(n.yAxis,function(e){e.axisLine={show:!1},e.axisLabel={show:!1},e.axisTick={show:!1}}),t.showLegend&&"gauge"!==a&&"map"!==a||delete n.legend,o.isAxisChart(a)||(delete n.xAxis,delete n.yAxis),t.dataZoom&&(n.dataZoom=angular.extend({show:!0,realtime:!0},t.dataZoom)),t.dataRange&&(n.dataRange=angular.extend({},t.dataRange)),t.polar&&(n.polar=t.polar),n}function s(){if(r.data&&r.config){var o;if(i(r.config),g||(g=echarts.init(f,t.get(r.config.theme||"macarons"))),r.config.event&&(Array.isArray(r.config.event)||(r.config.event=[r.config.event]),Array.isArray(r.config.event)&&r.config.event.forEach(function(e){x[e.type]||(x[e.type]=!0,g.on(e.type,function(t){e.fn(t)}))})),angular.isString(r.data)){if(b)return;b=!0,g.showLoading({text:r.config.loading||"奋力加载中...",textStyle:p}),e.get(r.data).success(function(e){b=!1,g.hideLoading(),e.data?(o=c(e.data,r.config,a),r.config.forceClear&&g.clear(),o.series.length?(g.setOption(o),g.resize()):g.showLoading({text:r.config.errorMsg||"没有数据",textStyle:p})):g.showLoading({text:r.config.emptyMsg||"数据加载失败",textStyle:p})}).error(function(){b=!1,g.showLoading({text:r.config.emptyMsg||"数据加载失败",textStyle:p})})}else o=c(r.data,r.config,a),r.config.forceClear&&g.clear(),o.series.length?(g.setOption(o),g.resize()):g.showLoading({text:r.config.errorMsg||"没有数据",textStyle:p})}}r.config=r.config||{};var d,u,g,f=l.find("div")[0],h=l.parent()[0],y=h.clientWidth,m=h.clientHeight,x={},b=!1,p={color:"red",fontSize:36,fontWeight:900,fontFamily:"Microsoft Yahei, Arial"};r.$watch(function(){return r.config},function(e){e&&s()},!0),r.$watch(function(){return r.data},function(e){e&&s()},!0)}}for(var t=angular.module("angular-echarts",["angular-echarts.theme","angular-echarts.util"]),o=["line","bar","area","pie","donut","gauge","map","radar"],a=0,r=o.length;r>a;a++)!function(o){t.directive(o+"Chart",["$http","theme","util",function(t,a,r){return{restrict:"EA",template:"<div></div>",scope:{config:"=config",data:"=data"},link:e(t,a,r,o)}}])}(o[a]);angular.module("angular-echarts.util",[]).factory("util",function(){function e(e){return["pie","donut"].indexOf(e)>-1}function t(e){return["map"].indexOf(e)>-1}function o(e){return["line","bar","area"].indexOf(e)>-1}function a(e,t,o){var a=[];return e[0]&&angular.forEach(e[0].datapoints,function(e){a.push(e.x)}),{type:"category",boundaryGap:"bar"===o,data:a}}function r(a,r,l){var n=[];return angular.forEach(a,function(a){var i=[];angular.forEach(a.datapoints,function(e){i.push(e.y)});var c={type:l||"line",name:a.name,data:i};"area"===l&&(c.type="line",c.itemStyle={normal:{areaStyle:{type:"default"}}}),"gauge"===l&&(c=angular.extend(c,{splitNumber:10,axisLine:{lineStyle:{color:[[.2,"#228b22"],[.8,"#48b"],[1,"#ff4500"]],width:8}},axisTick:{splitNumber:10,length:12,lineStyle:{color:"auto"}},axisLabel:{textStyle:{color:"auto"}},splitLine:{show:!0,length:30,lineStyle:{color:"auto"}},pointer:{width:5},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{fontWeight:"bolder"}},detail:{formatter:"{value}%",textStyle:{color:"auto",fontWeight:"bolder"}}},r.gauge||{})),o(l)||(c.data=[],angular.forEach(a.datapoints,function(e){c.data.push({value:e.y,name:e.x})})),e(l)&&(c.type="pie",c.center=r.center||["40%","50%"],c.radius=r.radius||["40%","55%"],c.name=r.name||"","donut"===l?(c.radius=r.radius||["50%","70%"],c=angular.extend(c,{itemStyle:{normal:{label:{show:!1},labelLine:{show:!1}},emphasis:{label:{show:!0,position:"center",textStyle:{fontSize:"50",fontWeight:"bold"}}}}},r.donut||{})):"pie"===l&&(c=angular.extend(c,{itemStyle:{normal:{label:{position:"inner",formatter:function(e){return(+e.percent).toFixed()+"%"}},labelLine:{show:!1}},emphasis:{label:{show:!0,formatter:"{b}\n{d}%"}}}},r.pie||{}))),t(l)&&(c.type="map",c=angular.extend(c,{},r.map||{})),r.stack&&(c.stack="total"),"radar"===l&&(c.data=a.data),n.push(c)}),n}function l(t,o,a){var r={data:[]};return e(a)?(t[0]&&angular.forEach(t[0].datapoints,function(e){r.data.push(e.x)}),r.orient="verticle",r.x="right",r.y="center"):(angular.forEach(t,function(e){r.data.push(e.name)}),r.orient="horizontal"),angular.extend(r,o.legend||{})}function n(e,t,o){var a={};switch(o){case"line":case"area":a.trigger="axis";break;case"pie":case"donut":case"bar":case"map":case"gauge":a.trigger="item"}return"pie"===o&&(a.formatter="{a} <br/>{b}: {c} ({d}%)"),"map"===o&&(a.formatter="{b}"),angular.extend(a,angular.isObject(t.tooltip)?t.tooltip:{})}function i(t,o,a){return angular.isObject(o.title)?o.title:e(a)?null:{text:o.title,subtext:o.subtitle||"",x:50}}function c(e,t){return t||(t=function(e){return Math.round(100*e)/100}),e=Math.abs(e),e>=1e12?t(e/1e12)+"T":e>=1e9?t(e/1e9)+"B":e>=1e6?t(e/1e6)+"M":e>=1e3?t(e/1e3)+"K":1>e&&e>0?t(e):0===e?"":t(e)}return{isPieChart:e,isAxisChart:o,getAxisTicks:a,getSeries:r,getLegend:l,getTooltip:n,getTitle:i,formatKMBT:c}}),angular.module("angular-echarts.theme",[]).factory("theme",["dark","macarons","infographic",function(e,t,o){var a={dark:e,macarons:t,infographic:o};return{get:function(e){return a[e]?a[e]:{}}}}]),angular.module("angular-echarts.theme").factory("dark",function(){var e="#eee",t=function(){return{axisLine:{lineStyle:{color:e}},axisTick:{lineStyle:{color:e}},axisLabel:{textStyle:{color:e}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:e}}}},o=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],a={color:o,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:e},crossStyle:{color:e}}},legend:{textStyle:{color:e}},textStyle:{color:e},title:{textStyle:{color:e}},toolbox:{iconStyle:{normal:{borderColor:e}}},timeline:{lineStyle:{color:e},itemStyle:{normal:{color:o[1]}},label:{normal:{textStyle:{color:e}}},controlStyle:{normal:{color:e,borderColor:e}}},timeAxis:t(),logAxis:t(),valueAxis:t(),categoryAxis:t(),line:{symbol:"circle"},graph:{color:o},gauge:{title:{textStyle:{color:e}}}};return a.categoryAxis.splitLine.show=!1,a}),angular.module("angular-echarts.theme").factory("infographic",function(){var e=["#C1232B","#27727B","#FCCE10","#E87C25","#B5C334","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD","#D7504B","#C6E579","#F4E001","#F0805A","#26C0C0"],t={color:e,title:{textStyle:{fontWeight:"normal",color:"#27727B"}},visualMap:{color:["#C1232B","#FCCE10"]},toolbox:{iconStyle:{normal:{borderColor:e[0]}}},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#27727B",type:"dashed"},crossStyle:{color:"#27727B"},shadowStyle:{color:"rgba(200,200,200,0.3)"}}},dataZoom:{dataBackgroundColor:"rgba(181,195,52,0.3)",fillerColor:"rgba(181,195,52,0.2)",handleColor:"#27727B"},categoryAxis:{axisLine:{lineStyle:{color:"#27727B"}},splitLine:{show:!1}},valueAxis:{axisLine:{show:!1},splitArea:{show:!1},splitLine:{lineStyle:{color:["#ccc"],type:"dashed"}}},timeline:{lineStyle:{color:"#27727B"},controlStyle:{normal:{color:"#27727B",borderColor:"#27727B"}},symbol:"emptyCircle",symbolSize:3},line:{itemStyle:{normal:{borderWidth:2,borderColor:"#fff",lineStyle:{width:3}},emphasis:{borderWidth:0}},symbol:"circle",symbolSize:3.5},candlestick:{itemStyle:{normal:{color:"#C1232B",color0:"#B5C334",lineStyle:{width:1,color:"#C1232B",color0:"#B5C334"}}}},graph:{color:e},map:{label:{normal:{textStyle:{color:"#C1232B"}},emphasis:{textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{areaColor:"#ddd",borderColor:"#eee"},emphasis:{areaColor:"#fe994e"}}},gauge:{axisLine:{lineStyle:{color:[[.2,"#B5C334"],[.8,"#27727B"],[1,"#C1232B"]]}},axisTick:{splitNumber:2,length:5,lineStyle:{color:"#fff"}},axisLabel:{textStyle:{color:"#fff"}},splitLine:{length:"5%",lineStyle:{color:"#fff"}},title:{offsetCenter:[0,-20]}}};return t}),angular.module("angular-echarts.theme").factory("macarons",function(){var e=["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],t={color:e,title:{textStyle:{fontWeight:"normal",color:"#008acd"}},visualMap:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{iconStyle:{normal:{borderColor:e[0]}}},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},candlestick:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},map:{label:{normal:{textStyle:{color:"#d87a80"}}},itemStyle:{normal:{borderColor:"#eee",areaColor:"#ddd"},emphasis:{areaColor:"#fe994e"}}},graph:{color:e},gauge:{axisLine:{lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}}};return t}),angular.module("angular-echarts.theme").factory("roma",function(){var e=["#E01F54","#001852","#f5e8c8","#b8d2c7","#c6b38e","#a4d8c2","#f3d999","#d3758f","#dcc392","#2e4783","#82b6e9","#ff6347","#a092f1","#0a915d","#eaf889","#6699FF","#ff6666","#3cb371","#d5b158","#38b6b6"],t={color:e,visualMap:{color:["#e01f54","#e7dbc3"],textStyle:{color:"#333"}},candlestick:{itemStyle:{normal:{color:"#e01f54",color0:"#001852",lineStyle:{width:1,color:"#f5e8c8",color0:"#b8d2c7"}}}},graph:{color:e},gauge:{axisLine:{lineStyle:{color:[[.2,"#E01F54"],[.8,"#b8d2c7"],[1,"#001852"]],width:8}}}};return t}),angular.module("angular-echarts.theme").factory("shine",function(){var e=["#d87c7c","#919e8b","#d7ab82","#6e7074","#61a0a8","#efa18d","#787464","#cc7e63","#724e58","#4b565b"],t={color:e,backgroundColor:"#fef8ef",graph:{color:e}};return t}),angular.module("angular-echarts.theme").factory("vintage",function(){var e=["#d87c7c","#919e8b","#d7ab82","#6e7074","#61a0a8","#efa18d","#787464","#cc7e63","#724e58","#4b565b"],t={color:e,backgroundColor:"#fef8ef",graph:{color:e}};return t})}();