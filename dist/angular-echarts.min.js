!function(){"use strict";function e(e,t,o,a){return function(t,r,l){function i(e){s=e.width||parseInt(l.width)||f||320,d=e.height||parseInt(l.height)||y||240,g.style.width=s+"px",g.style.height=d+"px",e.width=s,e.height=d}function n(e,t,a){t=angular.extend({showXAxis:!0,showYAxis:!0,showLegend:!0},t);var r=angular.extend({orient:"top",axisLine:{show:!1}},angular.isObject(t.xAxis)?t.xAxis:{}),l=angular.extend({type:"value",orient:"right",scale:!1,axisLine:{show:!1},axisLabel:{formatter:function(e){return o.formatKMBT(e)}}},angular.isObject(t.yAxis)?t.yAxis:{}),i={title:o.getTitle(e,t,a),tooltip:o.getTooltip(e,t,a),legend:o.getLegend(e,t,a),toolbox:angular.extend({show:!1},angular.isObject(t.toolbox)?t.toolbox:{}),xAxis:o.isHeatmapChart(a)?t.xAxis:[angular.extend(r,o.getAxisTicks(e,t,a))],yAxis:o.isHeatmapChart(a)?t.yAxis:[l],graphic:t.graphic&&(angular.isObject(t.graphic)||angular.isArray(t.graphic))?t.graphic:[],series:o.getSeries(e,t,a),visualMap:t.visualMap?t.visualMap:null};return t.showXAxis||angular.forEach(i.xAxis,function(e){e.axisLine={show:!1},e.axisLabel={show:!1},e.axisTick={show:!1}}),t.showYAxis||angular.forEach(i.yAxis,function(e){e.axisLine={show:!1},e.axisLabel={show:!1},e.axisTick={show:!1}}),t.showLegend&&"gauge"!==a&&"gauge2"!==a||delete i.legend,o.isAxisChart(a)||o.isHeatmapChart(a)||(delete i.xAxis,delete i.yAxis),t.dataZoom&&(i.dataZoom=angular.extend({show:!0,realtime:!0},t.dataZoom)),t.dataRange&&(i.dataRange=angular.extend({},t.dataRange)),t.polar&&(i.polar=t.polar),t.grid&&(i.grid=t.grid),t.display_icon&&(i.display_icon=t.imgSrc),i}function c(){if(t.data&&t.config){var o;if(i(t.config),u||(u=echarts.init(g,t.config.theme||"shine")),t.config.event&&(Array.isArray(t.config.event)||(t.config.event=[t.config.event]),Array.isArray(t.config.event)&&t.config.event.forEach(function(e){m[e.type]||(m[e.type]=!0,u.on(e.type,function(t){e.fn(t)}))})),angular.isString(t.data)){if(p)return;p=!0,u.showLoading({text:t.config.loading||"奋力加载中...",textStyle:x}),e.get(t.data).then(function(e){p=!1,u.hideLoading(),e.data.data?(o=n(e.data.data,t.config,a),t.config.forceClear&&u.clear(),o.series.length?(u.setOption(o),u.resize()):u.showLoading({text:t.config.errorMsg||"没有数据",textStyle:x})):u.showLoading({text:t.config.emptyMsg||"数据加载失败",textStyle:x})})}else o=n(t.data,t.config,a),t.config.forceClear&&u.clear(),o.series.length?(u.setOption(o),u.resize()):u.showLoading({text:t.config.errorMsg||"没有数据",textStyle:x});if("gauge2"==a){var l=r.find("img")[0];if(!l){l=new Image;var c=80*(t.config.width<t.config.height?t.config.width:t.config.height)/240;l.style.width=c+"px",l.style.height=c+"px",l.style.position="absolute",l.style.top="calc(50% - "+c/2+"px)",l.style.left="calc(50% - "+c/2+"px)",r.find("div")[0].append(l)}o.display_icon?(l.style.display="block",l.setAttribute("src",o.display_icon)):l.style.display="none"}t.chartObj=u}}t.config=t.config||{};var s,d,u,g=r.find("div")[0],h=r.parent()[0],f=h.clientWidth,y=h.clientHeight,m={},p=!1,x={color:"red",fontSize:36,fontWeight:900,fontFamily:"Microsoft Yahei, Arial"};t.$watch(function(){return t.config},function(e){e&&c()},!0),t.$watch(function(){return t.data},function(e){e&&c()},!0)}}for(var t=angular.module("angular-echarts",["angular-echarts.theme","angular-echarts.util"]),o=["line","bar","area","pie","donut","gauge","map","radar","heatmap","gauge2"],a=0,r=o.length;r>a;a++)!function(o){t.directive(o+"Chart",["$http","theme","util",function(t,a,r){return{restrict:"EA",template:'<div config="config" data="data"></div>',scope:{config:"=config",data:"=data",chartObj:"=?chartObj"},link:e(t,a,r,o)}}])}(o[a]);angular.module("angular-echarts.util",[]).factory("util",function(){function e(e){return["pie","donut"].indexOf(e)>-1}function t(e){return["map"].indexOf(e)>-1}function o(e){return["line","bar","area"].indexOf(e)>-1}function a(e){return["heatmap"].indexOf(e)>-1}function r(e){return["gauge2"].indexOf(e)>-1}function l(e,t,o){var a=[];return e[0]&&angular.forEach(e[0].datapoints,function(e){a.push(e.x)}),{type:"category",boundaryGap:"bar"===o,data:a}}function i(l,i,n){var c=[];return angular.forEach(l,function(l){var s=[];angular.forEach(l.datapoints,function(e){s.push(e.y)});var d={type:n||"line",name:l.name,data:s};"area"===n&&(d.type="line",d.itemStyle={normal:{areaStyle:{type:"default"}}}),"gauge"===n&&(d=angular.extend(d,{splitNumber:10,axisLine:{lineStyle:{color:[[.2,"#228b22"],[.8,"#48b"],[1,"#ff4500"]],width:8}},axisTick:{splitNumber:10,length:12,lineStyle:{color:"auto"}},axisLabel:{textStyle:{color:"auto"}},splitLine:{show:!0,length:30,lineStyle:{color:"auto"}},pointer:{width:5},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{fontWeight:"bolder"}},detail:{formatter:"{value}%",textStyle:{color:"auto",fontWeight:"bolder"}}},i.gauge||{})),o(n)||(d.data=[],angular.forEach(l.datapoints,function(e){d.data.push({value:e.y,name:e.x})})),e(n)&&(d.type="pie",d.center=i.center||["40%","50%"],d.radius=i.radius||"60%","donut"===n?(d.radius=i.radius||["50%","70%"],d=angular.extend(d,{itemStyle:{normal:{label:{show:!1},labelLine:{show:!1}},emphasis:{label:{show:!0,position:"center",textStyle:{fontSize:"50",fontWeight:"bold"}}}}},i.donut||{})):"pie"===n&&(d=angular.extend(d,{itemStyle:{normal:{label:{position:"inner",formatter:function(e){return(+e.percent).toFixed()+"%"}},labelLine:{show:!1}},emphasis:{label:{show:!0,formatter:"{b}\n{d}%"}}}},i.pie||{}))),t(n)&&(d.type="map",d=angular.extend(d,l,i.map||{})),i.stack&&(d.stack="total"),"radar"===n&&(d.data=l.data),a(n)&&(d.type="heatmap",d.name=l.name,d.data=l.data,d=angular.extend(d,{label:{normal:{show:!0}},itemStyle:{emphasis:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}},i.heatmap||{})),r(n)&&(d.type="gauge",d=angular.extend(d,{min:0,max:10,startAngle:200,endAngle:-20,splitNumber:10,axisLine:{lineStyle:{color:[[d.data[0].value/10,i.lineColor||"#228b22"],[1,"#a7a7a7"]],width:9}},axisTick:{show:!1},axisLabel:{textStyle:{color:"#a7a7a7",fontSize:20*(i.width<i.height?i.width:i.height)/240},formatter:function(e){switch(e+""){case"0":return"1";case"10":return"10"}}},splitLine:{length:9,lineStyle:{width:2,color:"#fff",type:"solid"}},pointer:{width:0}},i.gauge||{}),d.detail=i.display_icon?{formatter:function(){return""}}:{offsetCenter:[0,"-20%"],textStyle:{fontSize:55*(i.width<i.height?i.width:i.height)/240,color:"#979797"},formatter:function(e){return 0>=e&&(e="N/A"),e}}),d=angular.extend(d,l.seriesOptions||{}),c.push(d)}),c}function n(t,o,a){var r={data:[]};return e(a)?(t[0]&&angular.forEach(t[0].datapoints,function(e){r.data.push(e.x)}),r.orient="verticle",r.x="right",r.y="center"):"map"===a?r={}:(angular.forEach(t,function(e){r.data.push(e.name)}),r.orient="horizontal"),angular.extend(r,o.legend||{})}function c(e,t,o){var a={};switch(o){case"line":case"area":a.trigger="axis";break;case"pie":case"donut":case"bar":case"map":case"gauge":a.trigger="item"}return"pie"===o&&(a.formatter="{a} <br/>{b}: {c} ({d}%)"),"map"===o&&(a.formatter="{b}"),angular.extend(a,angular.isObject(t.tooltip)?t.tooltip:{})}function s(t,o,a){return angular.isObject(o.title)?o.title:e(a)?null:{text:o.title,subtext:o.subtitle||"",x:50}}function d(e,t){return t||(t=function(e){return Math.round(100*e)/100}),e=Math.abs(e),e>=1e12?t(e/1e12)+"T":e>=1e9?t(e/1e9)+"B":e>=1e6?t(e/1e6)+"M":e>=1e3?t(e/1e3)+"K":1>e&&e>0?t(e):0===e?"":t(e)}return{isPieChart:e,isAxisChart:o,isHeatmapChart:a,isGauge2Chart:r,getAxisTicks:l,getSeries:i,getLegend:n,getTooltip:c,getTitle:s,formatKMBT:d}}),angular.module("angular-echarts.theme",[]).factory("theme",["infographic","macarons","shine","dark","roma",function(e,t,o,a,r){var l={infographic:e,macarons:t,shine:o,dark:a,roma:r};return{get:function(e){return l[e]?l[e]:{}}}}]),angular.module("angular-echarts.theme").factory("dark",function(){var e=function(e){"undefined"!=typeof console&&console&&console.error&&console.error(e)};if(!echarts)return e("ECharts is not Loaded"),void 0;var t="#eee",o=function(){return{axisLine:{lineStyle:{color:t}},axisTick:{lineStyle:{color:t}},axisLabel:{textStyle:{color:t}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:t}}}},a=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],r={color:a,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:t},crossStyle:{color:t}}},legend:{textStyle:{color:t}},textStyle:{color:t},title:{textStyle:{color:t}},toolbox:{iconStyle:{normal:{borderColor:t}}},dataZoom:{textStyle:{color:t}},timeline:{lineStyle:{color:t},itemStyle:{normal:{color:a[1]}},label:{normal:{textStyle:{color:t}}},controlStyle:{normal:{color:t,borderColor:t}}},timeAxis:o(),logAxis:o(),valueAxis:o(),categoryAxis:o(),line:{symbol:"circle"},graph:{color:a},gauge:{title:{textStyle:{color:t}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};return r.categoryAxis.splitLine.show=!1,echarts.registerTheme("dark",r),r}),angular.module("angular-echarts.theme").factory("infographic",function(){var e=function(e){"undefined"!=typeof console&&console&&console.error&&console.error(e)};if(!echarts)return e("ECharts is not Loaded"),void 0;var t=["#C1232B","#27727B","#FCCE10","#E87C25","#B5C334","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD","#D7504B","#C6E579","#F4E001","#F0805A","#26C0C0"],o={color:t,title:{textStyle:{fontWeight:"normal",color:"#27727B"}},visualMap:{color:["#C1232B","#FCCE10"]},toolbox:{iconStyle:{normal:{borderColor:t[0]}}},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#27727B",type:"dashed"},crossStyle:{color:"#27727B"},shadowStyle:{color:"rgba(200,200,200,0.3)"}}},dataZoom:{dataBackgroundColor:"rgba(181,195,52,0.3)",fillerColor:"rgba(181,195,52,0.2)",handleColor:"#27727B"},categoryAxis:{axisLine:{lineStyle:{color:"#27727B"}},splitLine:{show:!1}},valueAxis:{axisLine:{show:!1},splitArea:{show:!1},splitLine:{lineStyle:{color:["#ccc"],type:"dashed"}}},timeline:{lineStyle:{color:"#27727B"},controlStyle:{normal:{color:"#27727B",borderColor:"#27727B"}},symbol:"emptyCircle",symbolSize:3},line:{itemStyle:{normal:{borderWidth:2,borderColor:"#fff",lineStyle:{width:3}},emphasis:{borderWidth:0}},symbol:"circle",symbolSize:3.5},candlestick:{itemStyle:{normal:{color:"#C1232B",color0:"#B5C334",lineStyle:{width:1,color:"#C1232B",color0:"#B5C334"}}}},graph:{color:t},map:{label:{normal:{textStyle:{color:"#C1232B"}},emphasis:{textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{areaColor:"#ddd",borderColor:"#eee"},emphasis:{areaColor:"#fe994e"}}},gauge:{axisLine:{lineStyle:{color:[[.2,"#B5C334"],[.8,"#27727B"],[1,"#C1232B"]]}},axisTick:{splitNumber:2,length:5,lineStyle:{color:"#fff"}},axisLabel:{textStyle:{color:"#fff"}},splitLine:{length:"5%",lineStyle:{color:"#fff"}},title:{offsetCenter:[0,-20]}}};return echarts.registerTheme("infographic",o),o}),angular.module("angular-echarts.theme").factory("macarons",function(){var e=function(e){"undefined"!=typeof console&&console&&console.error&&console.error(e)};if(!echarts)return e("ECharts is not Loaded"),void 0;var t=["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],o={color:t,title:{textStyle:{fontWeight:"normal",color:"#008acd"}},visualMap:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{iconStyle:{normal:{borderColor:t[0]}}},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},candlestick:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},map:{label:{normal:{textStyle:{color:"#d87a80"}}},itemStyle:{normal:{borderColor:"#eee",areaColor:"#ddd"},emphasis:{areaColor:"#fe994e"}}},graph:{color:t},gauge:{axisLine:{lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}}};return echarts.registerTheme("macarons",o),o}),angular.module("angular-echarts.theme").factory("roma",function(){var e=function(e){"undefined"!=typeof console&&console&&console.error&&console.error(e)};if(!echarts)return e("ECharts is not Loaded"),void 0;var t=["#E01F54","#001852","#f5e8c8","#b8d2c7","#c6b38e","#a4d8c2","#f3d999","#d3758f","#dcc392","#2e4783","#82b6e9","#ff6347","#a092f1","#0a915d","#eaf889","#6699FF","#ff6666","#3cb371","#d5b158","#38b6b6"],o={color:t,visualMap:{color:["#e01f54","#e7dbc3"],textStyle:{color:"#333"}},candlestick:{itemStyle:{normal:{color:"#e01f54",color0:"#001852",lineStyle:{width:1,color:"#f5e8c8",color0:"#b8d2c7"}}}},graph:{color:t},gauge:{axisLine:{lineStyle:{color:[[.2,"#E01F54"],[.8,"#b8d2c7"],[1,"#001852"]],width:8}}}};return echarts.registerTheme("roma",o),echarts}),angular.module("angular-echarts.theme").factory("shine",function(){var e=function(e){"undefined"!=typeof console&&console&&console.error&&console.error(e)};if(!echarts)return e("ECharts is not Loaded"),void 0;var t=["#c12e34","#e6b600","#0098d9","#2b821d","#005eaa","#339ca8","#cda819","#32a487"],o={color:t,title:{textStyle:{fontWeight:"normal"}},visualMap:{color:["#1790cf","#a2d4e6"]},toolbox:{iconStyle:{normal:{borderColor:"#06467c"}}},tooltip:{backgroundColor:"rgba(0,0,0,0.6)"},dataZoom:{dataBackgroundColor:"#dedede",fillerColor:"rgba(154,217,247,0.2)",handleColor:"#005eaa"},timeline:{lineStyle:{color:"#005eaa"},controlStyle:{normal:{color:"#005eaa",borderColor:"#005eaa"}}},candlestick:{itemStyle:{normal:{color:"#c12e34",color0:"#2b821d",lineStyle:{width:1,color:"#c12e34",color0:"#2b821d"}}}},graph:{color:t},map:{label:{normal:{textStyle:{color:"#c12e34"}},emphasis:{textStyle:{color:"#c12e34"}}},itemStyle:{normal:{borderColor:"#eee",areaColor:"#ddd"},emphasis:{areaColor:"#e6b600"}}},gauge:{axisLine:{show:!0,lineStyle:{color:[[.2,"#2b821d"],[.8,"#005eaa"],[1,"#c12e34"]],width:5}},axisTick:{splitNumber:10,length:8,lineStyle:{color:"auto"}},axisLabel:{textStyle:{color:"auto"}},splitLine:{length:12,lineStyle:{color:"auto"}},pointer:{length:"90%",width:3,color:"auto"},title:{textStyle:{color:"#333"}},detail:{textStyle:{color:"auto"}}}};return echarts.registerTheme("shine",o),o})}();